<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Chat | Nifty - Admin Template</title>


    <!--STYLESHEET-->
    <!--=================================================-->

    <!--Bootstrap Stylesheet [ REQUIRED ]-->
    <link href="../css/bootstrap.min.css" rel="stylesheet">


    <!--Nifty Stylesheet [ REQUIRED ]-->
    <link href="../css/nifty.min.css" rel="stylesheet">


    <!--Nifty Premium Icon [ DEMONSTRATION ]-->
    <link href="../css/demo/nifty-demo-icons.min.css" rel="stylesheet">


    <!--=================================================-->

    <!--Demo [ DEMONSTRATION ]-->
    <link href="../css/demo/nifty-demo.min.css" rel="stylesheet">



    <!--=================================================

    REQUIRED
    You must include this in your project.


    RECOMMENDED
    This category must be included but you may modify which plugins or components which should be included in your project.


    OPTIONAL
    Optional plugins. You may choose whether to include it in your project or not.


    DEMONSTRATION
    This is to be removed, used for demonstration purposes only. This category must not be included in your project.


    SAMPLE
    Some script samples which explain how to initialize plugins or components. This category should not be included in your project.


    Detailed information and more samples can be found in the document.

    =================================================-->

</head>

<!--TIPS-->
<!--You may remove all ID or Class names which contain "demo-", they are only used for demonstration. -->
<body ng-app="home" ng-controller="testCtrl">
<div id="container" class="effect aside-float aside-bright mainnav-lg page-fixedbar" style="margin: 0 100px;">


    <div class="boxed">

        <!--CONTENT CONTAINER-->
        <!--===================================================-->
        <div id="">
            <div id="page-head">
            </div>


            <!--Fixedbar-->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <div class="page-fixedbar-container" style="left: 0; width: 25%;">
                <div class="page-fixedbar-content pad-ver">
                    <div class="nano">
                        <div class="nano-content">
                            <div class="pad-all bord-btm">
                                <input type="text" placeholder="Search or start new chat" class="form-control">
                            </div>

                            <div class="chat-user-list">
                                <div style="margin: 20px;">
                                    <p>好友列表</p>
                                </div>
                                <div ng-repeat="user in userList" style="margin: 20px;">
                                    <a href="#" ng-click="getUserChatWindow(user)" class="chat-unread">
                                        <div class="media-left">
                                            <img class="img-circle img-xs" src="../img/profile-photos/{{ user.id }}.png" alt="Profile Picture">
                                            <i class="badge badge-success badge-stat badge-icon pull-left"></i>
                                        </div>
                                        <div class="media-body">
                                            <span class="chat-info">
                                                <span class="text-xs">11:39</span>
                                                <span class="badge badge-success">9</span>
                                            </span>
                                            <div class="chat-text">
                                                <p class="chat-username">{{ user.name }}</p>
                                                <p>I will give you a complete account of the system.</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                                <div style="margin: 20px;">
                                    <p>群组列表</p>
                                </div>
                                <div style="margin: 20px;">
                                    <a href="#" ng-click="getGroupChatWindow()" class="chat-unread">
                                        <div class="media-left">
                                            <img class="img-circle img-xs" src="../img/profile-photos/group.png" alt="Profile Picture">
                                            <i class="badge badge-success badge-stat badge-icon pull-left"></i>
                                        </div>
                                        <div class="media-body">
                                            <span class="chat-info">
                                                <span class="text-xs">11:39</span>
                                                <!--<span class="badge badge-success">9</span>-->
                                            </span>
                                            <div class="chat-text">
                                                <p class="chat-username">Group</p>
                                                <p>I will give you a complete account of the system.</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>


                            </div>


                        </div>
                    </div>
                </div>
            </div>
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!--End Fixedbar-->

            <!--Page content-->
            <!--===================================================-->
            <div id="page-content mar-no" style="width: 75%; margin-left: 25%;">

                <div class="panel" style="margin: 30px;">
                    <div class="media-block pad-all bord-btm">
                        <div class="pull-right">
                            <div class="btn-group dropdown">
                                <a href="#" class="dropdown-toggle btn btn-trans" data-toggle="dropdown" aria-expanded="false"><i class="pci-ver-dots"></i></a>
                                <ul class="dropdown-menu dropdown-menu-right" style="">
                                    <li><a href="#"><i class="icon-lg icon-fw demo-psi-pen-5"></i> Edit</a></li>
                                    <li><a href="#"><i class="icon-lg icon-fw demo-pli-recycling"></i> Remove</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#"><i class="icon-lg icon-fw demo-pli-mail"></i> Send a Message</a></li>
                                    <li><a href="#"><i class="icon-lg icon-fw demo-pli-calendar-4"></i> View Details</a></li>
                                    <li><a href="#"><i class="icon-lg icon-fw demo-pli-lock-user"></i> Lock</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="media-left">
                            <img class="img-circle img-xs" src="../img/profile-photos/{{ userChatTo.id }}.png" alt="Profile Picture">
                        </div>
                        <div class="media-body">
                            <p class="mar-no text-main text-bold text-lg">{{ userChatTo.name }}</p>
                            <!--<small class="text-muteds">Typing....</small>-->
                        </div>
                    </div>

                    <div class="nano" style="height: 65vh; background-color: #d6dbe0;">
                        <div class="nano-content" style="height: 65vh;" id="scroll-window">
                            <div class="panel-body chat-body media-block" id="chat-window">
                                <div ng-repeat="mes in messageList track by $index">
                                    <div class="chat-user" ng-if="mes.other">
                                        <div class="media-left">
                                            <img src="../img/profile-photos/{{ mes.userId }}.png" class="img-circle img-sm" alt="Profile Picture">
                                        </div>
                                        <div class="media-body">
                                            <div>
                                                <p>{{ mes.details }}<small>{{ mes.time }}</small></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="chat-me" ng-if="mes.user">
                                        <div class="media-left">
                                            <img src="../img/profile-photos/{{ mes.userId }}.png" class="img-circle img-sm" alt="Profile Picture">
                                        </div>
                                        <div class="media-body">
                                            <div>
                                                <p>{{ mes.details }}<small>{{ mes.time }}</small></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="chat-meta-day" ng-if="mes.isTime"><span class="badge">{{ mes.time }}</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pad-all">
                        <div class="input-group">
                            <input ng-model="messageToSend" id="message" type="text" placeholder="Type your message" class="form-control form-control-trans">
                            <span class="input-group-btn">
					            <button class="btn btn-icon add-tooltip" data-original-title="Add file" type="button"><i class="demo-psi-paperclip icon-lg"></i></button>
					            <button class="btn btn-icon add-tooltip" data-original-title="Emoticons" type="button"><i class="demo-pli-smile icon-lg"></i></button>
					            <button ng-if="isGroup" ng-click="sendMessageToGroup();" class="btn btn-icon add-tooltip" data-original-title="Send" type="button"><i class="demo-pli-paper-plane icon-lg"></i></button>
                                <button ng-if="isUser" ng-click="sendMessageToUser(userChatTo.name);" class="btn btn-icon add-tooltip" data-original-title="Send" type="button"><i class="demo-pli-paper-plane icon-lg"></i></button>
                            </span>
                        </div>
                    </div>
                </div>




            </div>
            <!--===================================================-->
            <!--End page content-->

        </div>
        <!--===================================================-->
        <!--END CONTENT CONTAINER-->


    </div>

</div>
<!--===================================================-->
<!-- END OF CONTAINER -->




<!--JAVASCRIPT-->
<!--=================================================-->

<!--jQuery [ REQUIRED ]-->
<script src="../js/jquery.min.js"></script>


<!--BootstrapJS [ RECOMMENDED ]-->
<script src="../js/bootstrap.min.js"></script>


<!--NiftyJS [ RECOMMENDED ]-->
<script src="../js/nifty.min.js"></script>

<!-- BEGIN ANGULARJS PLUGINS -->
<script src="../angular/angular.min.js" type="text/javascript"></script>
<script src="../angular/angular-cookies.min.js" type="text/javascript"></script>
<script src="../angular/angular-resource.min.js" type="text/javascript"></script>
<script src="../view/js/app.js" type="text/javascript"></script>
<script src="../view/js/controller.js" type="text/javascript"></script>
<script src="../view/js/service.js" type="text/javascript"></script>
<!-- END ANGULARJS PLUGINS -->

<!--<script>-->
    <!--var div = document.getElementById("scroll-window");-->
    <!--div.scrollTop = div.scrollHeight;-->
<!--</script>-->


</body>
</html>
